<html>
<head>
<script src = "https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<link href="https://fonts.googleapis.com/css?family=Ubuntu+Condensed&display=swap" rel="stylesheet">
</head>
<body>
<style>
  body {
    font-family: 'Ubuntu Condensed', sans-serif;
		font-weight: 400;
		font-size: 12px;
		vertical-align: top;
    color: #ccc;
    opacity: 50%;
  }
  #desc #icon #temp {
    display: inline-block;
    width: 30px;
  }
	#icon img {
    display: inline-block;
		width: 30px;
		height: 30px;
	}
</style>

<div id="container">
  <div id="desc"></div>
  <div id="temp"></div>
</div>

<script type="text/javascript">
	$(document).ready(function() {
      $('#desc').html(calcTime('Tokyo', '+9'));
      window.setInterval(function(){
          $('#desc').html(calcTime('Tokyo', '+9'));
      }, 1000);

      $('#temp').html(calcWeather())
      window.setInterval(function(){
          $('#temp').html(calcWeather());
      }, 1000 * 2000);
  })

  function hours12(date) { return (date.getHours() + 24) % 12 || 12; }

  function calcTime(city, offset) {
    var d = new Date();
    var utc = d.getTime() + (d.getTimezoneOffset() * 60000);
    var nd = new Date(utc + (3600000*offset));
    var hours = nd.getHours();
    var ampm = hours >= 12 ? 'pm' : 'am';
    return hours12(nd) + ":" + nd.getMinutes() + ' ' + ampm;
  }

  function calcWeather() {
    //var jso = $.getJSON("https://api.openweathermap.org/data/2.5/weather?id=1857105&appid=2a1d06ea1660a64737d8c39679305e0e");
    //var icon = jso.weather[0].icon;
    //var temp = jso.main.temp - 273.15;
    //alert(temp);
    //return "" + temp + &#8451;
    //return jso;
  }
</script>
</body>
</html>
